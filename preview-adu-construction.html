<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADU Construction — Avorino Preview</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600&family=DM+Serif+Display&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  html, body { overflow-x: hidden; font-family: 'DM Sans', sans-serif; background: #f0ede8; color: #111; }

  :root {
    --av-dark: #111111;
    --av-cream: #f0ede8;
    --av-warm: #e8e4df;
    --av-red: #c8222a;
    --av-gold: #c9a96e;
    --av-radius: 8px;
    --av-section-pad-y: 128px;
    --av-section-pad-x: 80px;
    --av-text-xl: clamp(48px, 5vw, 96px);
    --av-text-lg: clamp(36px, 3.5vw, 64px);
    --av-text-h3: clamp(24px, 2vw, 36px);
    --av-text-body: clamp(16px, 1.1vw, 18px);
    --av-text-sm: clamp(14px, 0.9vw, 16px);
    --av-text-xs: clamp(11px, 0.7vw, 13px);
  }

  .av-section { padding: var(--av-section-pad-y) var(--av-section-pad-x); }
  .av-section-warm { background: var(--av-warm); }
  .av-section-dark { background: var(--av-dark); color: var(--av-cream); }
  .av-heading-xl { font-family: 'DM Serif Display', serif; font-size: var(--av-text-xl); line-height: 1.05; font-weight: 400; letter-spacing: -0.02em; }
  .av-heading-lg { font-family: 'DM Serif Display', serif; font-size: var(--av-text-lg); line-height: 1.1; font-weight: 400; }
  .av-heading-md { font-family: 'DM Serif Display', serif; font-size: var(--av-text-h3); line-height: 1.15; font-weight: 400; }
  .av-body { font-size: var(--av-text-body); line-height: 1.9; }
  .av-label { display: flex; align-items: center; gap: 16px; font-size: var(--av-text-xs); letter-spacing: 0.25em; text-transform: uppercase; opacity: 0.4; }

  /* ═══════════════════════════════════════════════
     HERO — Immersive split with Three.js canvas
     ═══════════════════════════════════════════════ */
  .adu-hero {
    min-height: 90vh; display: grid; grid-template-columns: 1fr 1fr;
    background: var(--av-dark); color: var(--av-cream);
    position: relative; overflow: hidden;
  }
  .adu-hero-text {
    display: flex; flex-direction: column; justify-content: center;
    padding: 160px var(--av-section-pad-x) var(--av-section-pad-y);
    position: relative; z-index: 2;
  }
  .adu-hero-label { font-size: var(--av-text-xs); letter-spacing: 0.3em; text-transform: uppercase; opacity: 0.4; margin-bottom: 32px; }
  .adu-hero-gold-line { width: 0; height: 1px; background: var(--av-gold); margin-bottom: 24px; }
  .adu-hero-subtitle { font-size: var(--av-text-body); line-height: 1.9; opacity: 0.5; margin-top: 24px; max-width: 480px; }
  .adu-hero-cta-row { display: flex; gap: 16px; margin-top: 48px; }
  .adu-hero-btn {
    font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 500;
    padding: 16px 32px; border-radius: 100px; text-decoration: none;
    transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 10px;
  }
  .adu-hero-btn-primary { background: var(--av-red); color: var(--av-cream); }
  .adu-hero-btn-primary:hover { background: #a01c22; transform: translateY(-2px); box-shadow: 0 8px 24px rgba(200,34,42,0.3); }
  .adu-hero-btn-secondary { background: transparent; color: var(--av-cream); border: 1px solid rgba(240,237,232,0.2); }
  .adu-hero-btn-secondary:hover { border-color: rgba(240,237,232,0.5); }
  .adu-hero-canvas {
    position: relative; overflow: hidden;
  }
  .adu-hero-canvas canvas { width: 100% !important; height: 100% !important; }

  /* ═══════════════════════════════════════════════
     ADU TYPES — Accordion-expand cards
     ═══════════════════════════════════════════════ */
  .adu-types-header { display: grid; grid-template-columns: 1fr 1fr; gap: 64px; align-items: end; margin-bottom: 80px; }
  .adu-types-header-body { font-size: var(--av-text-body); line-height: 1.9; opacity: 0.5; }
  .adu-types-stack { display: flex; flex-direction: column; gap: 2px; }
  .adu-type-item {
    background: var(--av-dark); color: var(--av-cream); border-radius: var(--av-radius);
    overflow: hidden; cursor: pointer;
    transition: background 0.3s ease;
  }
  .adu-type-item.is-open { background: #1a1a1a; }
  .adu-type-header {
    display: grid; grid-template-columns: 80px 1fr auto; align-items: center;
    padding: 32px 40px; gap: 24px;
  }
  .adu-type-num {
    font-family: 'DM Serif Display', serif; font-size: 36px;
    font-weight: 400; opacity: 0.15; transition: opacity 0.3s ease, color 0.3s ease;
  }
  .adu-type-item.is-open .adu-type-num { opacity: 0.6; color: var(--av-gold); }
  .adu-type-title-text {
    font-family: 'DM Serif Display', serif; font-size: 22px; font-weight: 400;
    transition: color 0.3s ease;
  }
  .adu-type-item.is-open .adu-type-title-text { color: var(--av-gold); }
  .adu-type-toggle {
    width: 32px; height: 32px; border-radius: 50%;
    border: 1px solid rgba(240,237,232,0.15); display: flex; align-items: center; justify-content: center;
    transition: transform 0.4s cubic-bezier(0.23,1,0.32,1), border-color 0.3s ease;
  }
  .adu-type-toggle::after { content: '+'; font-size: 18px; font-weight: 300; color: var(--av-cream); opacity: 0.5; }
  .adu-type-item.is-open .adu-type-toggle { transform: rotate(45deg); border-color: var(--av-gold); }
  .adu-type-item.is-open .adu-type-toggle::after { color: var(--av-gold); opacity: 1; }
  .adu-type-body {
    max-height: 0; overflow: hidden;
    transition: max-height 0.6s cubic-bezier(0.23,1,0.32,1);
  }
  .adu-type-item.is-open .adu-type-body { max-height: 300px; }
  .adu-type-body-inner {
    padding: 0 40px 40px 144px;
    display: grid; grid-template-columns: 1fr 1fr; gap: 32px;
  }
  .adu-type-body-desc { font-size: var(--av-text-body); line-height: 1.9; opacity: 0.5; }
  .adu-type-body-img {
    height: 200px; border-radius: var(--av-radius); overflow: hidden;
    background: #222 center/cover;
  }

  /* ═══════════════════════════════════════════════
     COST & ROI — Animated stat blocks
     ═══════════════════════════════════════════════ */
  .adu-roi { position: relative; overflow: hidden; }
  .adu-roi-header { text-align: center; max-width: 600px; margin: 0 auto 80px; }
  .adu-roi-header .av-body { opacity: 0.5; margin-top: 20px; }
  .adu-roi-grid {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px;
  }
  .adu-roi-card {
    background: var(--av-dark); color: var(--av-cream); border-radius: var(--av-radius);
    padding: 40px 32px; text-align: center; position: relative; overflow: hidden;
    transition: transform 0.5s cubic-bezier(0.23,1,0.32,1);
  }
  .adu-roi-card:hover { transform: translateY(-6px); }
  .adu-roi-card-glow {
    position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    background: radial-gradient(circle at center, rgba(201,169,110,0.06) 0%, transparent 50%);
    opacity: 0; transition: opacity 0.5s ease;
  }
  .adu-roi-card:hover .adu-roi-card-glow { opacity: 1; }
  .adu-roi-value {
    font-family: 'DM Serif Display', serif; font-size: 42px;
    font-weight: 400; color: var(--av-gold); margin-bottom: 8px; position: relative; z-index: 1;
  }
  .adu-roi-label {
    font-size: 12px; opacity: 0.4; text-transform: uppercase; letter-spacing: 0.15em;
    position: relative; z-index: 1;
  }

  /* ═══════════════════════════════════════════════
     PROCESS — Vertical timeline
     ═══════════════════════════════════════════════ */
  .adu-proc-header { text-align: center; max-width: 600px; margin: 0 auto 80px; }
  .adu-proc-header .av-body { opacity: 0.5; margin-top: 20px; }
  .adu-proc-timeline { position: relative; max-width: 700px; margin: 0 auto; }
  .adu-proc-line {
    position: absolute; top: 0; bottom: 0; left: 28px;
    width: 1px; background: rgba(17,17,17,0.1);
  }
  .adu-proc-line-fill {
    width: 100%; height: 0; background: var(--av-gold);
    transition: height 2s cubic-bezier(0.23,1,0.32,1);
  }
  .adu-proc-step {
    display: grid; grid-template-columns: 56px 1fr; gap: 32px;
    padding-bottom: 64px; position: relative;
  }
  .adu-proc-step:last-child { padding-bottom: 0; }
  .adu-proc-dot-wrap { display: flex; justify-content: center; padding-top: 4px; }
  .adu-proc-dot {
    width: 14px; height: 14px; border-radius: 50%;
    border: 2px solid var(--av-gold); background: var(--av-warm);
    position: relative; z-index: 2;
    transition: background 0.4s ease;
  }
  .adu-proc-step.is-active .adu-proc-dot { background: var(--av-gold); }
  .adu-proc-step-num { font-size: 11px; letter-spacing: 0.3em; opacity: 0.3; margin-bottom: 8px; }
  .adu-proc-step-title { font-family: 'DM Serif Display', serif; font-size: 24px; font-weight: 400; margin-bottom: 4px; }
  .adu-proc-step-time { font-size: var(--av-text-sm); opacity: 0.35; margin-bottom: 12px; color: var(--av-gold); }
  .adu-proc-step-desc { font-size: var(--av-text-body); line-height: 1.9; opacity: 0.5; }

  /* ═══════════════════════════════════════════════
     CTA
     ═══════════════════════════════════════════════ */
  .adu-cta {
    min-height: 50vh; display: flex; align-items: center; justify-content: center;
    text-align: center; position: relative; overflow: hidden;
  }
  .adu-cta-bg { position: absolute; inset: 0; background: url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1920&q=80') center/cover; opacity: 0.12; }
  .adu-cta-glow {
    position: absolute; width: 400px; height: 400px; border-radius: 50%;
    background: radial-gradient(circle, rgba(200,34,42,0.08) 0%, transparent 70%);
    top: 50%; left: 50%; transform: translate(-50%, -50%);
    animation: ctaPulse 4s ease-in-out infinite;
  }
  @keyframes ctaPulse { 0%, 100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.4; } 50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; } }
  .adu-cta-content { position: relative; z-index: 2; max-width: 600px; }
  .adu-cta .av-heading-lg { margin-bottom: 40px; }
  .adu-cta-btns { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
  .adu-cta-btn {
    font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 500;
    padding: 16px 32px; border-radius: 100px; text-decoration: none;
    display: inline-flex; align-items: center; gap: 10px;
    transition: all 0.3s ease;
  }
  .adu-cta-btn-primary { background: var(--av-red); color: var(--av-cream); }
  .adu-cta-btn-primary:hover { background: #a01c22; transform: translateY(-2px); box-shadow: 0 8px 24px rgba(200,34,42,0.3); }
  .adu-cta-btn-ghost { background: transparent; color: var(--av-cream); border: 1px solid rgba(240,237,232,0.2); }
  .adu-cta-btn-ghost:hover { border-color: var(--av-cream); }

  /* ═══════════════════════════════════════════════
     RESPONSIVE
     ═══════════════════════════════════════════════ */
  @media (max-width: 991px) {
    :root { --av-section-pad-x: 48px; --av-section-pad-y: 96px; }
    .adu-hero { grid-template-columns: 1fr; min-height: 70vh; }
    .adu-hero-canvas { display: none; }
    .adu-types-header { grid-template-columns: 1fr; gap: 24px; }
    .adu-type-body-inner { grid-template-columns: 1fr; padding-left: 40px; }
    .adu-roi-grid { grid-template-columns: 1fr 1fr; }
  }
  @media (max-width: 767px) {
    :root { --av-section-pad-x: 24px; --av-section-pad-y: 72px; }
    .adu-type-header { grid-template-columns: 60px 1fr auto; padding: 24px; gap: 16px; }
    .adu-type-body-inner { padding: 0 24px 32px; }
    .adu-roi-grid { grid-template-columns: 1fr; }
    .adu-cta-btns { flex-direction: column; align-items: center; }
  }
  @media (max-width: 478px) {
    :root { --av-section-pad-x: 16px; --av-section-pad-y: 56px; }
    .adu-hero-text { padding: 120px 16px 48px; }
    .adu-hero-cta-row { flex-direction: column; }
  }
</style>
</head>
<body>

<!-- ═══ HERO ═══ -->
<section class="adu-hero">
  <div class="adu-hero-text">
    <div class="adu-hero-label">// ADU Construction</div>
    <div class="adu-hero-gold-line"></div>
    <h1 class="av-heading-xl">A second home<br>on your property</h1>
    <p class="adu-hero-subtitle">Detached, attached, or converted. Avorino designs, permits, and builds accessory dwelling units across Orange County.</p>
    <div class="adu-hero-cta-row">
      <a href="/adu-cost-estimator" class="adu-hero-btn adu-hero-btn-primary">ADU Cost Calculator <span>&rarr;</span></a>
      <a href="/schedule-a-meeting" class="adu-hero-btn adu-hero-btn-secondary">Schedule a Meeting</a>
    </div>
  </div>
  <div class="adu-hero-canvas" data-adu-canvas></div>
</section>

<!-- ═══ ADU TYPES ═══ -->
<section class="av-section av-section-warm">
  <div class="adu-types-header">
    <div>
      <div class="av-label"><span>ADU Types</span></div>
      <h2 class="av-heading-lg" style="margin-top: 24px">Four ways to build</h2>
    </div>
    <p class="adu-types-header-body">Each ADU type serves different needs. We help you choose the right approach for your lot, budget, and goals.</p>
  </div>
  <div class="adu-types-stack">
    <div class="adu-type-item is-open" data-adu-type>
      <div class="adu-type-header">
        <div class="adu-type-num">01</div>
        <div class="adu-type-title-text">Detached ADU</div>
        <div class="adu-type-toggle"></div>
      </div>
      <div class="adu-type-body">
        <div class="adu-type-body-inner">
          <div class="adu-type-body-desc">Standalone unit in your backyard. Maximum privacy and design flexibility. Popular for rental income or multigenerational living. Typical range: $250K-$450K+.</div>
          <div class="adu-type-body-img" style="background-image: url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=600&q=80')"></div>
        </div>
      </div>
    </div>
    <div class="adu-type-item" data-adu-type>
      <div class="adu-type-header">
        <div class="adu-type-num">02</div>
        <div class="adu-type-title-text">Attached ADU</div>
        <div class="adu-type-toggle"></div>
      </div>
      <div class="adu-type-body">
        <div class="adu-type-body-inner">
          <div class="adu-type-body-desc">Extension connected to your home with its own private entrance. Shares a wall for cost savings while maintaining complete independence.</div>
          <div class="adu-type-body-img" style="background-image: url('https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=600&q=80')"></div>
        </div>
      </div>
    </div>
    <div class="adu-type-item" data-adu-type>
      <div class="adu-type-header">
        <div class="adu-type-num">03</div>
        <div class="adu-type-title-text">Garage Conversion</div>
        <div class="adu-type-toggle"></div>
      </div>
      <div class="adu-type-body">
        <div class="adu-type-body-inner">
          <div class="adu-type-body-desc">Convert your existing garage into a fully permitted living space. The most affordable option — starting at $75K with the fastest turnaround at 3-5 months.</div>
          <div class="adu-type-body-img" style="background-image: url('https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea?w=600&q=80')"></div>
        </div>
      </div>
    </div>
    <div class="adu-type-item" data-adu-type>
      <div class="adu-type-header">
        <div class="adu-type-num">04</div>
        <div class="adu-type-title-text">Above-Garage ADU</div>
        <div class="adu-type-toggle"></div>
      </div>
      <div class="adu-type-body">
        <div class="adu-type-body-inner">
          <div class="adu-type-body-desc">Second story above your garage. Keeps parking, adds living space, and maximizes your lot without sacrificing yard area.</div>
          <div class="adu-type-body-img" style="background-image: url('https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=600&q=80')"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ═══ COST & ROI ═══ -->
<section class="av-section adu-roi" style="background: var(--av-cream)">
  <div class="adu-roi-header">
    <div class="av-label" style="justify-content: center;"><span>Investment</span></div>
    <h2 class="av-heading-lg" style="margin-top: 24px">The numbers make sense</h2>
    <p class="av-body" style="margin-top: 16px; opacity: 0.5">An ADU is one of the highest-ROI home improvements you can make in California.</p>
  </div>
  <div class="adu-roi-grid">
    <div class="adu-roi-card">
      <div class="adu-roi-card-glow"></div>
      <div class="adu-roi-value" data-roi-count="400">$0K</div>
      <div class="adu-roi-label">Avg. project cost</div>
    </div>
    <div class="adu-roi-card">
      <div class="adu-roi-card-glow"></div>
      <div class="adu-roi-value">$2K-$4.5K+</div>
      <div class="adu-roi-label">Monthly rental</div>
    </div>
    <div class="adu-roi-card">
      <div class="adu-roi-card-glow"></div>
      <div class="adu-roi-value">5-12%</div>
      <div class="adu-roi-label">Annual ROI</div>
    </div>
    <div class="adu-roi-card">
      <div class="adu-roi-card-glow"></div>
      <div class="adu-roi-value">8-15</div>
      <div class="adu-roi-label">Years break-even</div>
    </div>
  </div>
</section>

<!-- ═══ PROCESS ═══ -->
<section class="av-section av-section-warm">
  <div class="adu-proc-header">
    <div class="av-label" style="justify-content: center;"><span>Our Process</span></div>
    <h2 class="av-heading-lg" style="margin-top: 24px">Three steps to your ADU</h2>
    <p class="av-body" style="margin-top: 16px; opacity: 0.5">Total timeline: 10-14 months from design to move-in</p>
  </div>
  <div class="adu-proc-timeline">
    <div class="adu-proc-line"><div class="adu-proc-line-fill"></div></div>
    <div class="adu-proc-step">
      <div class="adu-proc-dot-wrap"><div class="adu-proc-dot"></div></div>
      <div>
        <div class="adu-proc-step-num">01</div>
        <div class="adu-proc-step-title">Design</div>
        <div class="adu-proc-step-time">4-6 months</div>
        <div class="adu-proc-step-desc">Custom architectural plans, structural engineering, and Title 24 energy calculations — all included. We design to your lot's constraints and your aesthetic preferences.</div>
      </div>
    </div>
    <div class="adu-proc-step">
      <div class="adu-proc-dot-wrap"><div class="adu-proc-dot"></div></div>
      <div>
        <div class="adu-proc-step-num">02</div>
        <div class="adu-proc-step-title">Permits</div>
        <div class="adu-proc-step-time">Included in design phase</div>
        <div class="adu-proc-step-desc">We submit to your city and manage all plan-check corrections and approvals. You never need to visit city hall.</div>
      </div>
    </div>
    <div class="adu-proc-step">
      <div class="adu-proc-dot-wrap"><div class="adu-proc-dot"></div></div>
      <div>
        <div class="adu-proc-step-num">03</div>
        <div class="adu-proc-step-title">Build</div>
        <div class="adu-proc-step-time">6-8 months</div>
        <div class="adu-proc-step-desc">Licensed crew, weekly progress updates, and on-budget delivery from foundation to final inspection. Full warranty included.</div>
      </div>
    </div>
  </div>
</section>

<!-- ═══ CTA ═══ -->
<section class="av-section av-section-dark adu-cta">
  <div class="adu-cta-bg"></div>
  <div class="adu-cta-glow"></div>
  <div class="adu-cta-content">
    <h2 class="av-heading-lg">Get your ADU estimate</h2>
    <div class="adu-cta-btns">
      <a href="/adu-cost-estimator" class="adu-cta-btn adu-cta-btn-primary">ADU Cost Calculator <span>&rarr;</span></a>
      <a href="/schedule-a-meeting" class="adu-cta-btn adu-cta-btn-ghost">Schedule a Meeting</a>
    </div>
  </div>
</section>

<!-- ═══ SCRIPTS ═══ -->
<script src="https://unpkg.com/lenis@1.1.18/dist/lenis.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r149/three.min.js"></script>
<script>
(function() {
  'use strict';

  // Lenis
  var lenis = new Lenis({ duration: 1.2, easing: function(t) { return Math.min(1, 1.001 - Math.pow(2, -10 * t)); } });
  function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
  requestAnimationFrame(raf);
  gsap.ticker.add(function(time) { lenis.raf(time * 1000); });
  gsap.ticker.lagSmoothing(0);
  gsap.registerPlugin(ScrollTrigger);

  // ── Hero animations ──
  gsap.to('.adu-hero-gold-line', { width: '64px', duration: 1.2, delay: 0.3, ease: 'power3.out' });
  gsap.from('.adu-hero-label', { opacity: 0, y: 20, duration: 0.8, delay: 0.2 });

  // Hero char cascade
  var heroH1 = document.querySelector('.adu-hero .av-heading-xl');
  if (heroH1) {
    var html = heroH1.innerHTML;
    var result = '';
    var inTag = false;
    for (var i = 0; i < html.length; i++) {
      if (html[i] === '<') { inTag = true; result += html[i]; continue; }
      if (html[i] === '>') { inTag = false; result += html[i]; continue; }
      if (inTag) { result += html[i]; continue; }
      if (html[i] === ' ') { result += ' '; continue; }
      result += '<span style="display:inline-block;opacity:0;transform:translateY(30px)">' + html[i] + '</span>';
    }
    heroH1.innerHTML = result;
    gsap.to(heroH1.querySelectorAll('span'), { opacity: 1, y: 0, duration: 0.5, stagger: 0.02, delay: 0.6, ease: 'power3.out' });
  }
  gsap.from('.adu-hero-subtitle', { opacity: 0, y: 20, duration: 0.8, delay: 1.3 });
  gsap.from('.adu-hero-cta-row', { opacity: 0, y: 20, duration: 0.8, delay: 1.5 });

  // ── Three.js — ADU wireframe in hero ──
  var canvas = document.querySelector('[data-adu-canvas]');
  if (canvas && window.innerWidth >= 992 && typeof THREE !== 'undefined') {
    var scene = new THREE.Scene();
    var cam = new THREE.PerspectiveCamera(45, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
    cam.position.set(16, 12, 20);
    cam.lookAt(0, 3, 0);
    var ren = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    ren.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    ren.setSize(canvas.clientWidth, canvas.clientHeight);
    ren.setClearColor(0x000000, 0);
    canvas.appendChild(ren.domElement);

    var goldMat = new THREE.LineBasicMaterial({ color: 0xc9a96e, transparent: true, opacity: 0.5 });
    var goldFaint = new THREE.LineBasicMaterial({ color: 0xc9a96e, transparent: true, opacity: 0.15 });
    var creamFaint = new THREE.LineBasicMaterial({ color: 0xf0ede8, transparent: true, opacity: 0.08 });

    var group = new THREE.Group();
    scene.add(group);

    // Ground grid
    var gridPts = [];
    for (var g = 0; g <= 12; g++) {
      var p = -12 + g * 2;
      gridPts.push(-12, 0, p, 12, 0, p);
      gridPts.push(p, 0, -12, p, 0, 12);
    }
    var gridGeo = new THREE.BufferGeometry();
    gridGeo.setAttribute('position', new THREE.Float32BufferAttribute(gridPts, 3));
    group.add(new THREE.LineSegments(gridGeo, creamFaint));

    // ADU building
    function addBox(w, h, d, x, z, mat) {
      var geo = new THREE.BoxGeometry(w, h, d);
      var edges = new THREE.EdgesGeometry(geo);
      var line = new THREE.LineSegments(edges, mat);
      line.position.set(x, h / 2, z);
      group.add(line);
    }
    addBox(8, 5, 6, 0, 0, goldMat);      // Main
    addBox(4, 3.5, 5, -5, 0.5, goldMat);  // Wing
    addBox(3, 7, 4, 5, -1, goldFaint);    // Tower

    // Ambient light
    scene.add(new THREE.AmbientLight(0xf0ede8, 0.4));
    var ptLight = new THREE.PointLight(0xc9a96e, 0.8, 60);
    ptLight.position.set(12, 15, 15);
    scene.add(ptLight);

    // Particles
    var pCount = 40;
    var pPos = new Float32Array(pCount * 3);
    var pSpeeds = [];
    for (var pi = 0; pi < pCount; pi++) {
      pPos[pi * 3] = (Math.random() - 0.5) * 24;
      pPos[pi * 3 + 1] = Math.random() * 12;
      pPos[pi * 3 + 2] = (Math.random() - 0.5) * 24;
      pSpeeds.push(0.003 + Math.random() * 0.008);
    }
    var pGeo = new THREE.BufferGeometry();
    pGeo.setAttribute('position', new THREE.BufferAttribute(pPos, 3));
    var pMat = new THREE.PointsMaterial({ color: 0xc9a96e, size: 0.08, transparent: true, opacity: 0.3, sizeAttenuation: true });
    group.add(new THREE.Points(pGeo, pMat));

    var mouse = { x: 0, y: 0 };
    document.addEventListener('mousemove', function(e) {
      mouse.x = (e.clientX / window.innerWidth - 0.5) * 2;
      mouse.y = (e.clientY / window.innerHeight - 0.5) * 2;
    });

    var clock = new THREE.Clock();
    (function animate() {
      requestAnimationFrame(animate);
      var t = clock.getElapsedTime();
      group.rotation.y += ((-0.3 + mouse.x * 0.1 + t * 0.03) - group.rotation.y) * 0.015;
      group.rotation.x += (mouse.y * 0.05 - group.rotation.x) * 0.015;
      group.scale.setScalar(1 + Math.sin(t * 0.4) * 0.005);
      // Particles rise
      var attr = pGeo.getAttribute('position');
      for (var j = 0; j < pCount; j++) {
        attr.array[j * 3 + 1] += pSpeeds[j];
        if (attr.array[j * 3 + 1] > 15) { attr.array[j * 3 + 1] = -1; attr.array[j * 3] = (Math.random() - 0.5) * 24; attr.array[j * 3 + 2] = (Math.random() - 0.5) * 24; }
      }
      attr.needsUpdate = true;
      ren.render(scene, cam);
    })();

    window.addEventListener('resize', function() {
      if (window.innerWidth < 992) { ren.domElement.style.display = 'none'; return; }
      ren.domElement.style.display = '';
      cam.aspect = canvas.clientWidth / canvas.clientHeight;
      cam.updateProjectionMatrix();
      ren.setSize(canvas.clientWidth, canvas.clientHeight);
    });
  }

  // ── Accordion ──
  document.querySelectorAll('[data-adu-type]').forEach(function(item) {
    item.querySelector('.adu-type-header').addEventListener('click', function() {
      var wasOpen = item.classList.contains('is-open');
      document.querySelectorAll('[data-adu-type]').forEach(function(i) { i.classList.remove('is-open'); });
      if (!wasOpen) item.classList.add('is-open');
    });
  });

  // ── Scroll animations ──
  function animateIn(selector) {
    gsap.utils.toArray(selector).forEach(function(el) {
      gsap.from(el, { scrollTrigger: { trigger: el, start: 'top 85%' }, opacity: 0, y: 40, duration: 0.8, ease: 'power3.out' });
    });
  }

  animateIn('.adu-types-header > *');
  animateIn('.adu-roi-header > *');
  animateIn('.adu-proc-header > *');
  animateIn('.adu-cta-content > *');

  // Stagger type items
  gsap.from('.adu-type-item', { scrollTrigger: { trigger: '.adu-types-stack', start: 'top 80%' }, opacity: 0, y: 30, duration: 0.6, stagger: 0.1, ease: 'power3.out' });

  // ROI cards
  gsap.from('.adu-roi-card', { scrollTrigger: { trigger: '.adu-roi-grid', start: 'top 80%' }, opacity: 0, y: 40, duration: 0.7, stagger: 0.12, ease: 'power3.out' });

  // ROI counter
  var roiCountEl = document.querySelector('[data-roi-count]');
  if (roiCountEl) {
    ScrollTrigger.create({
      trigger: roiCountEl, start: 'top 80%',
      onEnter: function() {
        gsap.to({ v: 0 }, { v: 400, duration: 2, ease: 'power2.out', onUpdate: function() { roiCountEl.textContent = '$' + Math.round(this.targets()[0].v) + 'K'; } });
      }
    });
  }

  // Process timeline
  gsap.from('.adu-proc-step', { scrollTrigger: { trigger: '.adu-proc-timeline', start: 'top 75%' }, opacity: 0, y: 40, duration: 0.7, stagger: 0.2, ease: 'power3.out' });
  ScrollTrigger.create({
    trigger: '.adu-proc-timeline', start: 'top 70%',
    onEnter: function() {
      gsap.to('.adu-proc-line-fill', { height: '100%', duration: 2, ease: 'power2.out' });
      document.querySelectorAll('.adu-proc-step').forEach(function(s, i) {
        setTimeout(function() { s.classList.add('is-active'); }, 500 * i);
      });
    }
  });

})();
</script>
</body>
</html>
